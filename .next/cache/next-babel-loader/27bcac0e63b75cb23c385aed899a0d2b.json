{"ast":null,"code":"import prisma from \"../../../lib/prisma\"; // DELETE /api/post/:id\n\nexport default async function handle(req, res) {\n  const postId = req.query.id;\n\n  if (req.method === \"DELETE\") {\n    const post = await prisma.post.delete({\n      where: {\n        id: Number(postId)\n      }\n    });\n    res.json(post);\n  } else {\n    throw new Error(`The HTTP ${req.method} method is not supported at this route.`);\n  }\n}","map":{"version":3,"sources":["C:/Users/owner/Documents/javascript/blogr-nextjs-prisma/pages/api/post/[id].ts"],"names":["prisma","handle","req","res","postId","query","id","method","post","delete","where","Number","json","Error"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,qBAAnB,C,CAEA;;AACA,eAAe,eAAeC,MAAf,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgC;AAC7C,QAAMC,MAAM,GAAGF,GAAG,CAACG,KAAJ,CAAUC,EAAzB;;AACA,MAAIJ,GAAG,CAACK,MAAJ,KAAe,QAAnB,EAA6B;AAC3B,UAAMC,IAAI,GAAG,MAAMR,MAAM,CAACQ,IAAP,CAAYC,MAAZ,CAAmB;AACpCC,MAAAA,KAAK,EAAE;AAAEJ,QAAAA,EAAE,EAAEK,MAAM,CAACP,MAAD;AAAZ;AAD6B,KAAnB,CAAnB;AAGAD,IAAAA,GAAG,CAACS,IAAJ,CAASJ,IAAT;AACD,GALD,MAKO;AACL,UAAM,IAAIK,KAAJ,CACH,YAAWX,GAAG,CAACK,MAAO,yCADnB,CAAN;AAGD;AACF","sourcesContent":["import prisma from \"../../../lib/prisma\";\r\n\r\n// DELETE /api/post/:id\r\nexport default async function handle(req, res) {\r\n  const postId = req.query.id;\r\n  if (req.method === \"DELETE\") {\r\n    const post = await prisma.post.delete({\r\n      where: { id: Number(postId) },\r\n    });\r\n    res.json(post);\r\n  } else {\r\n    throw new Error(\r\n      `The HTTP ${req.method} method is not supported at this route.`\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}